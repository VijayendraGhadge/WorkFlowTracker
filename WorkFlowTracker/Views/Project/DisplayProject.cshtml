@model IEnumerable<EntityLayer.step>

@{
    ViewBag.Title = "DisplayProject";
}

<h2>@ViewBag.ProjectName Steps</h2>
@if (Request.IsAuthenticated)
{
    <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
           @if (ViewBag.Role == "admin")
           {
               <li>
                @Html.ActionLink("Add New Step", "CreateStep", "Project")
               </li>
           }
            @*<li>
                @Html.ActionLink("Calendar View", "CalenderView", "Project")
            </li>*@
            <li>
                @Html.ActionLink("History Report", "ProjectHistory", "Project", new { Model.First().sid }, null)
            </li>
        </ul>
    </div>

    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.step_status)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.est_start_date)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.est_end_date)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.actual_start_date)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.actual_end_date)
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.step_status)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.est_start_date)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.est_end_date)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.actual_start_date)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.actual_end_date)
                </td>
                <td>
                    @Html.ActionLink("Edit", "EditStep", "Project", new { item.sid }, null) |
                    @*@Html.ActionLink("Details", "Details", new { item.sid }) @*|*@
                    @Html.ActionLink("Details", "ShowStep", "Project", new { item.sid }, null)
                    @*@Html.ActionLink("Delete", "Delete", new { id = item.sid })*@
                </td>
            </tr>
        }

    </table>
    @*@model IEnumerable<WorkFlowTracker.Models.CreateNewStepModels>

    <table class="table">

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.ActionLink(item.StepName +"  " + item.Status, "ShowStep", "Project", new { item.StepName,item.ProjectName,item.Status,item.EstStartDate,item.EstEndDate}, null)
                </td>
            </tr>
        }

    </table>*@

}
